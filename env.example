# Trender Environment Variables Configuration
# Copy this file to .env and fill in your actual values
# DO NOT commit the .env file to version control

# =============================================================================
# GITHUB API AUTHENTICATION
# =============================================================================
# Choose one of two authentication methods:
#
# OPTION A: Personal Access Token (PAT) - RECOMMENDED FOR MOST USERS
#   - Simplest setup: just generate a token from GitHub settings
#   - Get yours at: https://github.com/settings/tokens/new
#   - Required scopes: repo, read:org
#   - Tokens start with: ghp_ or github_pat_
#
# OPTION B: OAuth App - For advanced setups
#   - Requires creating an OAuth App at: https://github.com/settings/developers
#   - Set callback URL to: http://localhost:8000/callback
#   - Required scopes: repo, read:org
#
# To set up authentication, run: cd workflows && python auth_setup.py

# REQUIRED: GitHub Access Token (from PAT or OAuth flow)
# This is what the workflow uses to call GitHub API
GITHUB_ACCESS_TOKEN=ghp_your_access_token_here

# OPTIONAL: OAuth App credentials (only needed if using OAuth method)
# If using PAT, you can leave these blank or remove them
GITHUB_CLIENT_ID=Ov23_or_Iv1.your_client_id_here
GITHUB_CLIENT_SECRET=your_oauth_client_secret_here

# =============================================================================
# DATABASE
# =============================================================================
# Required: PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# Example: postgresql://user:pass@localhost:5432/trender
# Render provides this automatically for connected services
DATABASE_URL=postgresql://username:password@host:port/database_name

# =============================================================================
# RENDER API (For Trigger Service)
# =============================================================================
# Required: Render API Key for triggering workflows
# Get yours at: https://dashboard.render.com/u/settings#api-keys
RENDER_API_KEY=rnd_your_render_api_key_here

# Required: Render Workflow Slug for task identifier
# Find this in your Render dashboard under Workflows
# Task identifier format: {workflow-slug}/{task-name}
# Example: trender/main-analysis-task
RENDER_WORKFLOW_SLUG=trender

# =============================================================================
# NEXT.JS DASHBOARD (Optional - Usually inherits from parent)
# =============================================================================
# The dashboard uses DATABASE_URL from above
# No additional environment variables needed unless you want to customize

# Optional: Node environment (development, production, test)
NODE_ENV=production

# Optional: Custom port for local development (default: 3000)
# PORT=3000

# =============================================================================
# NOTES
# =============================================================================
# 1. GitHub Authentication Setup:
#    Run the auth setup script to generate your token:
#      cd workflows && python auth_setup.py
#
#    Option A - Personal Access Token (Recommended):
#      1. Select option [1] in the script
#      2. Follow prompts to create token at github.com/settings/tokens/new
#      3. Select scopes: repo, read:org
#      4. Copy token and paste in script
#      5. Add GITHUB_ACCESS_TOKEN to .env
#
#    Option B - OAuth App:
#      1. Create OAuth App at github.com/settings/developers
#      2. Set callback URL to: http://localhost:8000/callback
#      3. Add GITHUB_CLIENT_ID and GITHUB_CLIENT_SECRET to .env
#      4. Run script and select option [2]
#      5. Authorize in browser
#      6. Add GITHUB_ACCESS_TOKEN to .env
#
#    Rate limit: 5,000 requests/hour (authenticated) vs 60/hour (unauthenticated)
#
# 2. Database URL:
#    - Use PostgreSQL 12 or higher
#    - Render auto-connects DATABASE_URL for linked services
#    - For local development, set up a local PostgreSQL instance
#
# 3. Render Workflow:
#    - The workflow must be created in Render dashboard first
#    - Workflow slug is found in the dashboard (e.g., trender)
#    - Task identifier format: {workflow-slug}/{task-name}
#    - API key needs workflow trigger permissions
#
# 4. Security:
#    - NEVER commit .env file to git
#    - Rotate tokens regularly
#    - Use different tokens for dev/staging/production

